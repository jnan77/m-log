<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN" "http://struts.apache.org/dtds/struts-2.1.7.dtd">

<struts>
	<package name="admin" namespace="/admin" extends="public">
		
	</package>
	
	<package name="common" extends="admin">
		<action name="validateCode" class="org.mspring.mlog.web.action.manage.common.ValidateCodeAction"></action>
		<action name="viewConfig" class="org.mspring.mlog.web.action.manage.common.ConfigAction" method="view">
			<result name="success" type="dispatcher">/admin/common/config.jsp</result>
		</action>
		<action name="saveConfig" class="org.mspring.mlog.web.action.manage.common.ConfigAction" method="save">
			<result name="success" type="chain">viewConfig</result>
		</action>
		<action name="overview" class="org.mspring.mlog.web.action.manage.common.OverviewAction">
			<result name="success" type="dispatcher">/admin/common/overview.jsp</result>
		</action>
		<action name="setSessionAttribute" class="org.mspring.mlog.web.action.manage.common.SessionAction" method="setSessionAttribute"></action>
		<action name="getSessionAttribute" class="org.mspring.mlog.web.action.manage.common.SessionAction" method="getSessionAttribute"></action>
	</package>
	
	<package name="tree" extends="admin">
		<action name="tree" class="org.mspring.mlog.web.action.manage.tree.TreeAction">
			<result name="success" type="json">
				<!-- 序例化只包含以下正则表达式匹配的属性 -->
				<param name="root">
					treeList
				</param>
				<param name="excludeProperties">.*hibernateLazyInitializer</param>
			</result>
		</action>
		
		<action name="panel" class="org.mspring.mlog.web.action.manage.tree.PanelAction">
			<result name="success" type="json">
				<!-- 序例化只包含以下正则表达式匹配的属性 -->
				<param name="root">
					panelList
				</param>
				<param name="excludeProperties">.*hibernateLazyInitializer</param>
			</result>
		</action>
	</package>
	
	<package name="category" extends="admin">
		<action name="queryCategory" class="org.mspring.mlog.web.action.manage.category.QueryCategoryAction">
			<result name="success" type="dispatcher">/admin/category/listCategory.jsp</result>
		</action>
		<action name="toCreateCategory" class="org.mspring.mlog.web.action.manage.category.CreateCategoryAction" method="toCreateCategory">
			<result name="success" type="dispatcher">/admin/category/addCategory.jsp</result>
		</action>
		<action name="doCreateCategory" class="org.mspring.mlog.web.action.manage.category.CreateCategoryAction" method="doCreateCategory">
			<result name="success" type="chain">queryCategory</result>
		</action>
		<action name="deleteCategory" class="org.mspring.mlog.web.action.manage.category.DeleteCategoryAction">
			<result name="success" type="chain">queryCategory</result>
		</action>
		<action name="toEditCategory" class="org.mspring.mlog.web.action.manage.category.EditCategoryAction">
			<result name="success" type="dispatcher">/admin/category/editCategory.jsp</result>
		</action>
		<action name="editCategory" class="org.mspring.mlog.web.action.manage.category.EditCategoryAction" method="edit">
			<result name="success" type="chain">queryCategory</result>
		</action>
		
		<action name="createCategoryByAjax" class="org.mspring.mlog.web.action.manage.category.CategoryForAjaxAction" method="createCategoryByAjax"></action>
		<action name="categoryWhetherRepeat" class="org.mspring.mlog.web.action.manage.category.CategoryForAjaxAction" method="categoryWhetherRepeat"></action>
		<action name="findAllCategoriesByAjax" class="org.mspring.mlog.web.action.manage.category.CategoryForAjaxAction" method="findAllCategoriesByAjax"></action>
	</package>
	
	<package name="article" extends="admin">
		<action name="queryArticle" class="org.mspring.mlog.web.action.manage.article.QueryArticleAction">
			<result name="success" type="dispatcher">/admin/article/listArticle.jsp</result>
		</action>
		<action name="toCreateArticle" class="org.mspring.mlog.web.action.manage.article.CreateArticleAction" method="toCreateArticle">
			<result name="success" type="dispatcher">/admin/article/addArticle.jsp</result>
		</action>
		<action name="doCreateArticle" class="org.mspring.mlog.web.action.manage.article.CreateArticleAction" method="doCreateArticle">
			<result name="success" type="dispatcher">toCreateArticle.action</result>
		</action>
		<action name="deleteArticle" class="org.mspring.mlog.web.action.manage.article.DeleteArticleAction">
			<result name="success" type="chain">queryArticle</result>
		</action>
		<action name="toEditArticle" class="org.mspring.mlog.web.action.manage.article.EditArticleAction" method="toEditArticle">
			<result name="success" type="dispatcher">/admin/article/editArticle.jsp</result>
		</action>
		<action name="doEditArticle" class="org.mspring.mlog.web.action.manage.article.EditArticleAction" method="doEditArticle">
			<result name="success" type="chain">queryArticle</result>
		</action>
	</package>
	
	<package name="user" extends="admin">
		<action name="logout" class="org.mspring.mlog.web.action.manage.user.LogoutAction">
			<result name="success" type="redirect">/admin/admin_login.jsp</result>
		</action>
		<action name="login" class="org.mspring.mlog.web.action.manage.user.LoginAction">
			<result name="input" type="dispatcher">/admin/admin_login.jsp</result>
			<result name="success" type="redirect">/admin/admin_default.jsp</result>
		</action>
	</package>
	
	<package name="tag" extends="admin">
		<action name="queryTag" class="org.mspring.mlog.web.action.manage.tag.QueryTagAction">
			<result name="success" type="dispatcher">/admin/tag/listTag.jsp</result>
		</action>
		<action name="deleteTag" class="org.mspring.mlog.web.action.manage.tag.DeleteTagAction">
			<result name="success" type="chain">queryTag</result>
		</action>
		<action name="createTag" class="org.mspring.mlog.web.action.manage.tag.CreateTagAction">
			<result name="success" type="chain">queryTag</result>
		</action>
		
		<action name="findAllTagsByAjax" class="org.mspring.mlog.web.action.manage.tag.TagForAjaxAction" method="findAllTagsByAjax"></action>
		<action name="createTagByAjax" class="org.mspring.mlog.web.action.manage.tag.TagForAjaxAction" method="createTagByAjax"></action>
		<action name="tagWhetherRepeat" class="org.mspring.mlog.web.action.manage.tag.TagForAjaxAction" method="tagWhetherRepeat"></action>
	</package>
	
	<package name="link" extends="admin">
		<action name="queryLink" class="org.mspring.mlog.web.action.manage.link.QueryLinkAction">
			<result name="success" type="dispatcher">/admin/link/listLink.jsp</result>
		</action>
		<action name="deleteLink" class="org.mspring.mlog.web.action.manage.link.DeleteLinkAction">
			<result name="success" type="chain">queryLink</result>
		</action>
		<action name="toCreateLink" class="org.mspring.mlog.web.action.manage.link.CreateLinkAction" method="toCreateLink">
			<result name="success" type="dispatcher">/admin/link/addLink.jsp</result>
		</action>
		<action name="doCreateLink" class="org.mspring.mlog.web.action.manage.link.CreateLinkAction" method="doCreateLink">
			<result name="success" type="chain">queryLink</result>
		</action>
		<action name="toEditLink" class="org.mspring.mlog.web.action.manage.link.EditLinkAction" method="toEditLink">
			<result name="success" type="dispatcher">/admin/link/editLink.jsp</result>
			<result name="input" type="chain">queryLink</result>
		</action>
		<action name="doEditLink" class="org.mspring.mlog.web.action.manage.link.EditLinkAction" method="doEditLink">
			<result name="success" type="chain">queryLink</result>
		</action>
	</package>
	
	<package name="linktype" extends="admin">
		<action name="queryLinkType" class="org.mspring.mlog.web.action.manage.linktype.QueryLinkTypeAction">
			<result name="success" type="dispatcher">/admin/linktype/listLinkType.jsp</result>
		</action>
		<action name="toCreateLinkType" class="org.mspring.mlog.web.action.manage.linktype.CreateLinkTypeAction" method="toCreateLinkType">
			<result name="success" type="dispatcher">/admin/linktype/addLinkType.jsp</result>
		</action>
		<action name="doCreateLinkType" class="org.mspring.mlog.web.action.manage.linktype.CreateLinkTypeAction" method="doCreateLinkType">
			<result name="success" type="chain">queryLinkType</result>
		</action>
		<action name="deleteLinkType" class="org.mspring.mlog.web.action.manage.linktype.DeleteLinkTypeAction">
			<result name="success" type="chain">queryLinkType</result>
		</action>
		<action name="toEditLinkType" class="org.mspring.mlog.web.action.manage.linktype.EditLinkTypeAction" method="toEditLinkType">
			<result name="success" type="dispatcher">/admin/linktype/editLinkType.jsp</result>
		</action>
		<action name="doEditLinkType" class="org.mspring.mlog.web.action.manage.linktype.EditLinkTypeAction" method="doEditLinkType">
			<result name="success" type="chain">queryLinkType</result>
		</action>
	</package>
	
	
	<package name="menu" extends="admin">
		<action name="queryMenu" class="org.mspring.mlog.web.action.manage.menu.QueryMenuAction">
			<result name="success" type="dispatcher">/admin/menu/listMenu.jsp</result>
		</action>
		<action name="toCreateMenu" class="org.mspring.mlog.web.action.manage.menu.CreateMenuAction" method="toCreateMenu">
			<result name="success" type="dispatcher">/admin/menu/addMenu.jsp</result>
		</action>
		<action name="doCreateMenu" class="org.mspring.mlog.web.action.manage.menu.CreateMenuAction" method="doCreateMenu">
			<result name="input" type="redirect">http://www.baidu.com</result>
			<result name="success" type="chain">queryMenu</result>
		</action>
		<action name="deleteMenu" class="org.mspring.mlog.web.action.manage.menu.DeleteMenuAction">
			<result name="success" type="chain">queryMenu</result>
		</action>
		<action name="toEditMenu" class="org.mspring.mlog.web.action.manage.menu.EditMenuAction" method="toEditMenu">
			<result name="input" type="chain">queryMenu</result>
			<result name="success" type="dispatcher">/admin/menu/editMenu.jsp</result>
		</action>
		<action name="doEditMenu" class="org.mspring.mlog.web.action.manage.menu.EditMenuAction" method="doEditMenu">
			<result name="success" type="chain">queryMenu</result>
		</action>
	</package>
	
	<package name="comment" extends="admin">
		<action name="queryComment" class="org.mspring.mlog.web.action.manage.comment.QueryCommentAction">
			<result name="success" type="dispatcher">/admin/comment/listComment.jsp</result>
		</action>
		<action name="deleteComment" class="org.mspring.mlog.web.action.manage.comment.DeleteCommentAction">
			<result name="success" type="chain">queryComment</result>
		</action>
		<action name="auditPass" class="org.mspring.mlog.web.action.manage.comment.AuditCommentAction" method="auditPass">
			<result name="success" type="chain">queryComment</result>
		</action>
		<action name="auditReject" class="org.mspring.mlog.web.action.manage.comment.AuditCommentAction" method="auditReject">
			<result name="success" type="chain">queryComment</result>
		</action>
		<action name="auditDust" class="org.mspring.mlog.web.action.manage.comment.AuditCommentAction" method="auditDust">
			<result name="success" type="chain">queryComment</result>
		</action>
	</package>
	
	<package name="album" extends="admin">
		<action name="toCreateAlbum" class="org.mspring.mlog.web.action.manage.album.CreateAlbumAction" method="toCreateAlbum">
			<result name="success" type="dispatcher">/admin/album/addAlbum.jsp</result>
		</action>
		<action name="doCreateAlbum" class="org.mspring.mlog.web.action.manage.album.CreateAlbumAction" method="doCreateAlbum">
			<result name="success" type="dispatcher">/admin/album/addAlbum.jsp</result>
			<result name="input" type="dispatcher">/admin/album/addAlbum.jsp</result>
		</action>
		<action name="queryAlbum" class="org.mspring.mlog.web.action.manage.album.QueryAlbumAction">
			<result name="success" type="dispatcher">/admin/album/listAlbum.jsp</result>
		</action>
		<action name="toEditAlbumConfig" class="org.mspring.mlog.web.action.manage.album.AlbumConfigAction" method="toEditAlbumConfig">
			<result name="success" type="dispatcher">/admin/album/albumConfig.jsp</result>
		</action>
		<action name="doEditAlbumConfig" class="org.mspring.mlog.web.action.manage.album.AlbumConfigAction" method="doEditAlbumConfig">
			<result name="success" type="chain">toEditAlbumConfig</result>
		</action>
		<action name="deleteAlbum" class="org.mspring.mlog.web.action.manage.album.DeleteAlbumAction">
			<result name="success" type="chain">queryAlbum</result>
		</action>
	</package>
	
	<package name="photo" extends="admin">
		<action name="queryPhoto" class="org.mspring.mlog.web.action.manage.photo.QueryPhotoAction">
			<result name="success" type="dispatcher">/admin/photo/listPhoto.jsp</result>
		</action>
		<action name="deletePhoto" class="org.mspring.mlog.web.action.manage.photo.DeletePhotoAction">
			<result name="success" type="redirect">queryPhoto.action?photo.album.id=${albumId}</result>
		</action>
	</package>
	
	<package name="theme" extends="admin">
		<action name="queryTheme" class="org.mspring.mlog.web.action.manage.theme.QueryThemeAction">
			<result name="success" type="dispatcher">/admin/theme/listTheme.jsp</result>
		</action>
		
		<action name="useThisTheme" class="org.mspring.mlog.web.action.manage.theme.UseThisThemeAction">
			<result name="success" type="chain">queryTheme</result>
		</action>
	</package>
	
	<package name="cache" extends="admin">
		<action name="listPageCache" class="org.mspring.mlog.web.action.manage.cache.CacheAction" method="listPageCache">
			<result name="success" type="dispatcher">/admin/cache/listCache.jsp</result>
		</action>
		<action name="removePageCache" class="org.mspring.mlog.web.action.manage.cache.CacheAction" method="removePageCache">
			<result name="success" type="chain">listPageCache</result>
		</action>
		<action name="clearPageCache" class="org.mspring.mlog.web.action.manage.cache.CacheAction" method="clearPageCache">
			<result name="success" type="chain">listPageCache</result>
		</action>
		<action name="enablePageCache" class="org.mspring.mlog.web.action.manage.cache.CacheAction" method="enablePageCache">
			<result name="success" type="chain">listPageCache</result>
		</action>
		<action name="enableDBQueryCache" class="org.mspring.mlog.web.action.manage.cache.CacheAction" method="enableDBQueryCache">
			<result name="success" type="chain">listPageCache</result>
		</action>
	</package>
	
	<package name="plugin" extends="admin">
		<action name="zblog2gblog" class="org.mspring.mlog.web.action.manage.plugin.ZBlog2GBlogAction"></action>
	</package>
</struts>
