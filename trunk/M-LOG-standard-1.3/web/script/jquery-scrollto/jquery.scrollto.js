(function(b,e){var d,c,a;d=c=b.jQuery;a=c.ScrollTo=c.ScrollTo||{config:{duration:400,easing:"swing",callback:e,durationMode:"each",offsetTop:0,offsetLeft:0},configure:function(f){c.extend(a.config,f||{});return this},scroll:function(o,v){var n,q,l,f,j,x,t,m,u,r,s,g,k,p,y,w,i,h;n=o.pop();q=n.$container;l=q.get(0);f=n.$target;j=c("<span/>").css({"position":"absolute","top":"0px","left":"0px"});x=q.css("position");q.css("position","relative");j.appendTo(q);s=j.offset().top;g=f.offset().top;k=g-s-parseInt(v.offsetTop,10);p=j.offset().left;y=f.offset().left;w=y-p-parseInt(v.offsetLeft,10);t=l.scrollTop;m=l.scrollLeft;j.remove();q.css("position",x);h=function(z){if(o.length===0){if(typeof v.callback==="function"){v.callback.apply(this,[z])}}else{a.scroll(o,v)}return true};if(v.onlyIfOutside){u=t+q.height();r=m+q.width();if(t<k&&k<u){k=t}if(m<w&&w<r){w=m}}i={};if(k!==t){i.scrollTop=k+"px"}if(w!==m){i.scrollLeft=w+"px"}if(i.scrollTop||i.scrollLeft){q.animate(i,v.duration,v.easing,h)}else{h()}return true},fn:function(i){var j,h,m,g;j=[];var f=c(this);if(f.length===0){return this}h=c.extend({},a.config,i);m=f.parent();g=m.get(0);while((m.length===1)&&(g!==document.body)&&(g!==document)){var k,l;k=m.css("overflow-y")!=="visible"&&g.scrollHeight!==g.clientHeight;l=m.css("overflow-x")!=="visible"&&g.scrollWidth!==g.clientWidth;if(k||l){j.push({"$container":m,"$target":f});f=m}m=m.parent();g=m.get(0)}j.push({"$container":c((c.browser.msie||c.browser.mozilla)?"html":"body"),"$target":f});if(h.durationMode==="all"){h.duration/=j.length}a.scroll(j,h);return this}};c.fn.ScrollTo=c.ScrollTo.fn})(window);